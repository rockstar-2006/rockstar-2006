name: Update Pacman Contribution Graph

on:
  schedule:
    # Runs at 00:00 UTC every day
    - cron: '0 0 * * *'
  workflow_dispatch: # Allows manual triggering
  push:
    branches:
      - main

jobs:
  update-pacman:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout repository
        uses: actions/checkout@v3
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
      
      - name: Setup Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.x'
      
      - name: Generate Pacman Contribution Graph
        uses: jstrieb/github-stats@master
        with:
          # Optional: List of usernames of other accounts whose contributions
          # you want to include. This can help if you changed your username.
          # other_users: "old_username,another_username"
          
          # Whether to include private contributions in the stats
          include_private_contributions: false
          
          # Theme for the generated images (light, dark, or auto)
          theme: "auto"
          
          # Base repository for committing the generated files
          base_repository: "rockstar-2006/rockstar-2006"
          
          # GITHUB_TOKEN secret
          token: ${{ secrets.GITHUB_TOKEN }}
